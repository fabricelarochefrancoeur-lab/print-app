@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: "Haxrcorp";
  src: url("/fonts/haxrcorp-4089.otf") format("opentype");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "BogartMedium";
  src: url("/fonts/BogartMedium.ttf") format("truetype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "BogartMedium";
  src: url("/fonts/BogartMediumItalic.ttf") format("truetype");
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Bogart";
  src: url("/fonts/BogartRegular.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

body {
  background-color: #ffffff;
  color: #000000;
  font-family: "Haxrcorp", monospace;
}

::selection {
  background-color: #000000;
  color: #ffffff;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ===== Page Curl 3D (Apple Books style) ===== */

.page-curl-container {
  position: relative;
  perspective: 1800px;
  overflow: hidden;
  user-select: none;
  cursor: grab;
}
.page-curl-container:active {
  cursor: grabbing;
}

/* Under-page sits behind the curling page */
.page-curl-under {
  position: absolute;
  inset: 0;
  z-index: 1;
}

/* The page that curls */
.page-curl-page {
  position: relative;
  z-index: 2;
  transform-style: preserve-3d;
  backface-visibility: hidden;
  transition: transform 600ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Next page: curls from right edge, pivoting on the left */
.page-curl-next {
  transform-origin: left center;
  animation: curl-next 600ms cubic-bezier(0.4, 0.0, 0.2, 1) forwards;
}

/* Prev page: curls from left edge, pivoting on the right */
.page-curl-prev {
  transform-origin: right center;
  animation: curl-prev 600ms cubic-bezier(0.4, 0.0, 0.2, 1) forwards;
}

@keyframes curl-next {
  0% {
    transform: perspective(1800px) rotateY(0deg);
  }
  100% {
    transform: perspective(1800px) rotateY(-180deg);
  }
}

@keyframes curl-prev {
  0% {
    transform: perspective(1800px) rotateY(0deg);
  }
  100% {
    transform: perspective(1800px) rotateY(180deg);
  }
}

/* Dark overlay on the curling page (simulates self-shadow) */
.page-curl-shadow {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to left,
    rgba(0, 0, 0, 0.35) 0%,
    rgba(0, 0, 0, 0.12) 30%,
    transparent 60%
  );
  pointer-events: none;
  z-index: 10;
  opacity: 0;
}
.page-curl-next .page-curl-shadow {
  animation: shadow-fade-in 600ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  background: linear-gradient(
    to right,
    rgba(0, 0, 0, 0.35) 0%,
    rgba(0, 0, 0, 0.12) 30%,
    transparent 60%
  );
}
.page-curl-prev .page-curl-shadow {
  animation: shadow-fade-in 600ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  background: linear-gradient(
    to left,
    rgba(0, 0, 0, 0.35) 0%,
    rgba(0, 0, 0, 0.12) 30%,
    transparent 60%
  );
}

@keyframes shadow-fade-in {
  0%   { opacity: 0; }
  40%  { opacity: 0.4; }
  100% { opacity: 0; }
}

/* Shadow cast on the under-page from the lifted page */
.page-curl-cast-shadow {
  position: absolute;
  inset: 0;
  z-index: 3;
  pointer-events: none;
  opacity: 0;
}
.cast-shadow-next {
  background: linear-gradient(
    to right,
    rgba(0, 0, 0, 0.3) 0%,
    transparent 40%
  );
  animation: cast-shadow-anim-next 600ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}
.cast-shadow-prev {
  background: linear-gradient(
    to left,
    rgba(0, 0, 0, 0.3) 0%,
    transparent 40%
  );
  animation: cast-shadow-anim-prev 600ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes cast-shadow-anim-next {
  0%   { opacity: 0; transform: translateX(0); }
  50%  { opacity: 0.25; transform: translateX(-15%); }
  100% { opacity: 0; transform: translateX(-30%); }
}
@keyframes cast-shadow-anim-prev {
  0%   { opacity: 0; transform: translateX(0); }
  50%  { opacity: 0.25; transform: translateX(15%); }
  100% { opacity: 0; transform: translateX(30%); }
}

/* ===== Newspaper page styles ===== */

.newspaper-page {
  font-variant-ligatures: common-ligatures;
  -webkit-font-smoothing: antialiased;
}

